//ASSIGNMENT-5 QUESTION-1

LXI H,5000H
MVI B,08H
MVI D,00H
MVI E,00H
LOOP1:CALL ADDFPNUM
INX H
DCR B
JNZ LOOP1
CALL DVFPNUM
MOV M,E
INX H
MOV M,D
CALL SORTFPNUM
LXI H,5004H
MVI C,00H
MOV D,M
DCX H
MOV A,M
ADD D
MOV D,A
INR H
MOV E,M
INX H
MOV A,M
ADD E
JNC GOAHEAD2
INR C
GOAHEAD2:MOV E,A
MOV A,D
ADD C
RAR
MOV D,A
MOV A,E
RAR
STA 5061H
MOV A,D
STA 5062H
HLT


DVFPNUM:LDA 5060H
MOV C,A
GOBACK:MOV A,D
RAR
MOV D,A
MOV A,E
RAR
MOV E,A
ADI 00H
DCR C
JNZ GOBACK
RET



ADDFPNUM:MOV A,M
ADD D
MOV D,A
INR H
MOV A,M
ADD E
JNC GOAHEAD
INR D
GOAHEAD:MOV E,A
DCR H
RET



SORTFPNUM:MVI B,07H
BIGLOOP:MOV C,B
LXI H,5000H
MVI E,00H
GOBACK1:MOV A,M
INX H
CMP M
JC SKIPSWAP
JNZ GOAHEAD1
DCX H
INR H
MOV A,M
INX H
CMP M
JC SKIPSWAP
JZ SKIPSWAP
DCR H
GOAHEAD1:MOV B,L
MOV A,M
DCX H
MOV D,M
MOV M,A
INX H
MOV M,D
INR H
MOV A,M
DCX H
MOV D,M
MOV M,A
INX H
MOV M,D
MVI E,01H
SKIPSWAP:DCR C
MVI H,50H
JNZ GOBACK1
MVI A,00H
CMP E
JNZ BIGLOOP 
RET





#ORG 5000H//integer parts
#DB 08H,08H,06H,05H,04H,03H,02H,01H
#ORG 5100H//fractional parts
#DB 90H,40H,70H,60H,50H,01H,40H,80H
#ORG 5060H//power of 2 in divfpnum
#DB 03H
